package com.pigpig.customitem;

import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.ItemMeta;
import org.bukkit.plugin.java.JavaPlugin;

public class Main extends JavaPlugin{
	
	public boolean onCommand(CommandSender sender, Command command, String label, String [] args){
		Player player = (Player) sender; //명령어를 사용한 사람의 값을 player 로 정의합니다.
		if(label.equalsIgnoreCase("give")) //플레이어가 /give라고 했을 때
		{
			if(0 < args.length) //하위 명령어가 있다면
			{
				if(args[0].equalsIgnoreCase("Stick")) //그 첫번째 하위 명령어가 stick이면.
				{
					ItemStack is = new ItemStack(Material.STICK);
					//새로운 아이템으로 막대기를 만들고 그것을 is라고 정의합니다.
					ItemMeta im = is.getItemMeta();
					//im이라는 변수에 is의 아이템메타를 가져와서 정의합니다.
					im.setDisplayName(ChatColor.LIGHT_PURPLE + "막대기");
					//im이라는 아이템메타에서 아이템의 이름을 밝은 보라색 막대기로 변경합니다
					is.setItemMeta(im);
					//im에서 수정한 아이템메타를 is에 넣습니다.
					player.getInventory().addItem(is);
					//플레이어에게 위에서 만든 is라는 아이템을 줍니다.
				}
				else if(args[0].equalsIgnoreCase("torch")) //하위명령어가 stick이 아니고 torch면.
				{
					ItemStack is1 = new ItemStack(Material.TORCH);
					//새로운 아이템으로 횃불를 만들고 그것을 is1라고 정의합니다.
					ItemMeta im1 = is1.getItemMeta();
					//im1이라는 변수에 is1의 아이템메타를 가져와서 정의합니다.
					im1.setDisplayName(ChatColor.LIGHT_PURPLE + "횃불");
					//im1이라는 아이템메타에서 아이템의 이름을 밝은 보라색 횃불로 변경합니다
					is1.setItemMeta(im1);
					//im1에서 수정한 아이템메타를 is1에 넣습니다.
					player.getInventory().addItem(is1);
					//플레이어에게 위에서 만든 is1라는 아이템을 줍니다.
					
				}else { //하위 명령어가 stick도 torch도 아닐 때
					player.sendMessage(ChatColor.RED + "그 아이템은 존재하지 않습니다.");
					//플레이어에게 빨간색으로 그 아이템은 존재하지 않습니다. 라고 보낸다
				}
			}else {//하위 명령어가 없다면
				player.sendMessage(ChatColor.RED + "[명령어] /give stick");
				//플레이어에게 빨간색으로 [명령어] /give stick 이라고 보낸다.
				player.sendMessage(ChatColor.RED + "[명령어] /give torch");
				//플레이어에게 빨간색으로 [명령어] /give torch 이라고 보낸다.
			}
		}
			return false;
	}

}
